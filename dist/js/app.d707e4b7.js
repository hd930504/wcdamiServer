(function(t){function e(e){for(var o,i,c=e[0],s=e[1],l=e[2],f=0,p=[];f<c.length;f++)i=c[f],r[i]&&p.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},"0a43":function(t,e,n){},"33b7":function(t,e,n){"use strict";var o=n("caac"),r=n.n(o);r.a},"4da3":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-header",{attrs:{height:"130px"}},[n("headComponent")],1),n("el-main"),n("el-footer")],1),t.show?n("div",[n("login",{on:{userInfo:t.showState}}),n("register")],1):t._e()],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"loginform",staticClass:"login",attrs:{model:t.loginform,rules:t.loginrule,"status-icon":""}},[n("el-form-item",{attrs:{prop:"tel"}},[n("el-input",{attrs:{placeholder:"手机号",autocomplete:"off"},model:{value:t.loginform.tel,callback:function(e){t.$set(t.loginform,"tel",e)},expression:"loginform.tel"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"密码",autocomplete:"off"},model:{value:t.loginform.password,callback:function(e){t.$set(t.loginform,"password",e)},expression:"loginform.password"}})],1),n("el-form-item",{attrs:{prop:"captcha"}},[n("div",{attrs:{id:"loginCaptcha"}})]),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("loginform")}}},[t._v("登录")])],1)],1)},c=[],s=(n("4917"),{name:"login",data:function(){var t=this,e=function(t,e,n){var o=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;return""===e?n(new Error("请输入手机号")):e.match(o)?void n():n(new Error("请输入正确的手机号"))},n=function(t,e,n){if(""===e)return n(new Error("请输入密码"));n()},o=function(e,n,o){if(!t.captcha)return o(new Error("请点击按钮完成认证"));o()};return{hide:!1,captcha:!1,loginform:{tel:"",password:""},loginrule:{tel:[{validator:e,trigger:"blur"}],password:[{validator:n,trigger:"blur"}],captcha:[{validator:o}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t||!e.captcha)return!1;e.axios.post("/api/login",{tel:e.loginform.tel,password:e.$md5(e.loginform.password)}).then(function(t){0!==t.data.code?e.$message.error(t.data.msg):(e.hide=!0,e.$emit("userInfo",{user:e.loginform.tel,showState:!1}))})})}},created:function(){var t=this;this.axios.get("/api/gt/register").then(function(e){var n=t;window.initGeetest({gt:e.data.gt,challenge:e.data.challenge,offline:!e.data.success,new_captcha:!0,product:"float",width:"100%"},function(t){t.appendTo("#loginCaptcha"),t.onReady(function(){}).onSuccess(function(){n.captcha=!0}).onError(function(){n.captcha=!1})})})},mounted:function(){}}),l=s,u=(n("9d3f"),n("2877")),f=Object(u["a"])(l,i,c,!1,null,"7b0b3c01",null);f.options.__file="login.vue";var p=f.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"loginform",staticClass:"login",attrs:{model:t.loginform,rules:t.loginrule,"status-icon":""}},[n("el-form-item",{attrs:{prop:"tel"}},[n("el-input",{attrs:{placeholder:"手机号",autocomplete:"off"},model:{value:t.loginform.tel,callback:function(e){t.$set(t.loginform,"tel",e)},expression:"loginform.tel"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"密码",autocomplete:"off"},model:{value:t.loginform.password,callback:function(e){t.$set(t.loginform,"password",e)},expression:"loginform.password"}})],1),n("el-form-item",{attrs:{prop:"captcha"}},[n("div",{attrs:{id:"captchaBox"}}),n("div",{staticClass:"geetest_form"},[n("input",{attrs:{type:"hidden",name:"geetest_challenge",value:"xxx"}}),n("input",{attrs:{type:"hidden",name:"geetest_validate",value:"xxx"}}),n("input",{attrs:{type:"hidden",name:"geetest_seccode",value:"xxx"}})])]),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("loginform")}}},[t._v("注册")])],1)],1)},g=[],h={name:"register",props:{msg:String},data:function(){var t=this,e=function(t,e,n){var o=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;return""===e?n(new Error("请输入手机号")):e.match(o)?void n():n(new Error("请输入正确的手机号"))},n=function(t,e,n){var o=/^\d{6,20}$/;return""===e?n(new Error("请输入密码")):e.match(o)?void n():n(new Error("请输入6-20位密码"))},o=function(e,n,o){if(!t.captcha)return o(new Error("请点击按钮完成认证"));o()};return{hide:!1,captcha:!1,loginform:{tel:"",password:""},loginrule:{tel:[{validator:e,trigger:"blur"}],password:[{validator:n,trigger:"blur"}],captcha:[{validator:o}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t||!e.captcha)return!1;e.axios.post("/api/register",{tel:e.loginform.tel,password:e.$md5(e.loginform.password)}).then(function(t){0!==t.data.code?e.$message.warning(t.data.msg):e.hide=!0})})}},created:function(){var t=this;this.axios.get("/api/gt/register").then(function(e){var n=t;window.initGeetest({gt:e.data.gt,challenge:e.data.challenge,offline:!e.data.success,new_captcha:!0,product:"float",width:"100%"},function(t){t.appendTo("#captchaBox"),t.onReady(function(){}).onSuccess(function(){n.captcha=!0;var e=t.getValidate();console.log(e)}).onError(function(){alert(),n.captcha=!1})})})}},m=h,v=(n("78fe"),Object(u["a"])(m,d,g,!1,null,"1f8829a3",null));v.options.__file="register.vue";var _=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-top"},[n("div",{staticClass:"header-top-main"},[n("div",{staticClass:"user-operation"},[t._e(),n("span",[t._v("登录")]),n("span",[t._v("注册")]),n("span",[t._v("我的订单")]),n("span",[t._v("会员中心")])]),n("span",[t._v("欢迎来到五常大米网！")])])]),t._m(0)])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-main"},[n("a",{staticClass:"logo"}),n("div",{staticClass:"head-menu"},[n("div",{staticClass:"shop"},[t._v("\n                购物车"),n("span",[t._v("0")]),t._v("件\n            ")]),n("ul",{staticClass:"nav"},[n("li",[t._v("首页")]),n("li",[t._v("产品列表")]),n("li",[t._v("大米知识")]),n("li",[t._v("关于我们")])])])])}],y={name:"headComponent"},x=y,E=(n("33b7"),Object(u["a"])(x,w,b,!1,null,"661fce5a",null));E.options.__file="header.vue";var j=E.exports,$={name:"app",components:{headComponent:j,login:p,register:_},data:function(){return{show:!0,user:""}},methods:{showState:function(t){this.show=t.showState,this.user=t.user}}},C=$,k=(n("034f"),Object(u["a"])(C,r,a,!1,null,null,null));k.options.__file="App.vue";var O=k.exports,S=n("bc3a"),T=n.n(S),G=n("6821f"),P=n.n(G),I=n("5c96"),F=n.n(I),M=n("d5c6");n("0fae"),n("4da3");o["default"].prototype.gtInit=M["a"],o["default"].prototype.axios=T.a,o["default"].prototype.$md5=P.a,o["default"].config.productionTip=!1,o["default"].use(F.a),new o["default"]({render:function(t){return t(O)}}).$mount("#app")},"64a9":function(t,e,n){},"78fe":function(t,e,n){"use strict";var o=n("0a43"),r=n.n(o);r.a},"9d3f":function(t,e,n){"use strict";var o=n("f671"),r=n.n(o);r.a},caac:function(t,e,n){},d5c6:function(t,e,n){"use strict";(function(t){n("a481");var o=n("53ca"),r=(n("cadf"),n("551c"),n("097d"),function(e,n){"object"===Object(o["a"])(t)&&"object"===Object(o["a"])(t.exports)?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("Geetest requires a window with a document");return n(t)}:n(e)}("undefined"!==typeof window?window:void 0,function(t,e){if("undefined"===typeof t)throw new Error("Geetest requires browser environment");var n=t.document,r=t.Math,a=n.getElementsByTagName("head")[0];function i(t){this._obj=t}function c(t){var e=this;new i(t)._each(function(t,n){e[t]=n})}i.prototype={_each:function(t){var e=this._obj;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]);return this}},c.prototype={api_server:"api.geetest.com",protocol:"http://",typePath:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var t=this;return l(t.type)?t.fallback_config[t.type]:t.new_captcha?t.fallback_config.fullpage:t.fallback_config.slide},_extend:function(t){var e=this;new i(t)._each(function(t,n){e[t]=n})}};var s=function(t){return"number"===typeof t},l=function(t){return"string"===typeof t},u=function(t){return"boolean"===typeof t},f=function(t){return"object"===Object(o["a"])(t)&&null!==t},p=function(t){return"function"===typeof t},d={},g={},h=function(){return parseInt(1e4*r.random())+(new Date).valueOf()},m=function(t,e){var o=n.createElement("script");o.charset="UTF-8",o.async=!0,o.onerror=function(){e(!0)};var r=!1;o.onload=o.onreadystatechange=function(){r||o.readyState&&"loaded"!==o.readyState&&"complete"!==o.readyState||(r=!0,setTimeout(function(){e(!1)},0))},o.src=t,a.appendChild(o)},v=function(t){return t.replace(/^https?:\/\/|\/$/g,"")},_=function(t){return t=t.replace(/\/+/g,"/"),0!==t.indexOf("/")&&(t="/"+t),t},w=function(t){if(!t)return"";var e="?";return new i(t)._each(function(t,n){(l(n)||s(n)||u(n))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(n)+"&")}),"?"===e&&(e=""),e.replace(/&$/,"")},b=function(t,e,n,o){e=v(e);var r=_(n)+w(o);return e&&(r=t+e+r),r},y=function(t,e,n,o,r){var a=function a(i){var c=b(t,e[i],n,o);m(c,function(t){t?i>=e.length-1?r(!0):a(i+1):r(!1)})};a(0)},x=function(e,n,o,r){if(f(o.getLib))return o._extend(o.getLib),void r(o);if(o.offline)r(o._get_fallback_config());else{var a="geetest_"+h();t[a]=function(e){"success"==e.status?r(e.data):e.status?r(o._get_fallback_config()):r(e),t[a]=void 0;try{delete t[a]}catch(n){}},y(o.protocol,e,n,{gt:o.gt,callback:a},function(t){t&&r(o._get_fallback_config())})}},E=function(t,e){var n={networkError:"网络错误",gtTypeError:"gt字段不是字符串类型"};if("function"!==typeof e.onError)throw new Error(n[t]);e.onError(n[t])},j=function(){return t.Geetest||n.getElementById("gt_lib")};return j()&&(g.slide="loaded"),t.initGeetest=function(e,n){var o=new c(e);e.https?o.protocol="https://":e.protocol||(o.protocol=t.location.protocol+"//"),"050cffef4ae57b5d5e529fea9540b0d1"!==e.gt&&"3bd38408ae4af923ed36e13819b14d42"!==e.gt||(o.apiserver="yumchina.geetest.com/",o.api_server="yumchina.geetest.com"),f(e.getType)&&o._extend(e.getType),x([o.api_server||o.apiserver],o.typePath,o,function(e){var r=e.type,a=function(){o._extend(e),n(new t.Geetest(o))};d[r]=d[r]||[];var i=g[r]||"init";"init"===i?(g[r]="loading",d[r].push(a),y(o.protocol,e.static_servers||e.domains,e[r]||e.path,null,function(t){if(t)g[r]="fail",E("networkError",o);else{g[r]="loaded";for(var e=d[r],n=0,a=e.length;n<a;n+=1){var i=e[n];p(i)&&i()}d[r]=[]}})):"loaded"===i?a():"fail"===i?E("networkError",o):"loading"===i&&d[r].push(a)})},t.initGeetest=initGeetest,initGeetest}));e["a"]={gtInit:r}}).call(this,n("dd40")(t))},f671:function(t,e,n){}});
//# sourceMappingURL=app.d707e4b7.js.map